
	==== Database ====

Users:  collection
[	
	randomID:  document
	{
		email:  str (QR generator: qr_flutter) 		// PK
		username:  str
		fullname:  str
		dob:  datetime
		phone:  str
		bio:  str
		onlineStatus:  boolean         // update status realtime?
		avatar:  				// Firebase Cloud Storage? 
		
		Friends:  collection
		[
			randomID:  document
			{
				email:  str 		// FK
			}

			...
		]

		Chatrooms:  collection
		[
			randomID: document
			{
				roomID: str
			}

			...
		]
	}

	...
]



Chatrooms:  collection
[
	randomID:  document
	{
		name:  str

		Users:  collection
		[
			randomID:  document
			{
				email:  str
			}
		]
		
		Messages:  collection
		[
			randomID:  document
			{
				fromUser:  str 				// FK
				timeStamp:  datetime 	// PK
				content:  str
			}

			...
		]
	}

	...
]






	==== Model ====

// basic info of a user
//    -> use in chat list, chat room, friend list
class GeneralUser
{

	fullname
	avatar
	onlineStatus
}


// authentication for logged in user
//    -> use to identify who send what request
//    ex: add friend, send new message...
class CurrentUser : GeneralUser
{
	email
}


// a detail user
//   -> use for users profile page
class DetailUser : GeneralUser
{
	email
	phone
	birthDate
	bio
}



class Chatroom
{
	roomID
	list<GeneralUser>
	list<Message>				//  to stored latest messages
}

class Message 		// aggregation to Chatroom
{
	fromUser
	timestamp
	content
}